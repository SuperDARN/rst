<?xml version="1.0" encoding="ISO-8859-1"?>
<binary>
<project>superdarn</project>
<name>make_fov</name>
<location>src.bin/tk/tool/make_fov</location>

<syntax></syntax>
<syntax>make_fov --help</syntax>
<syntax>make_fov [<ar>options</ar>] <ar>fitacfname</ar> [<ar>inxname</ar>]</syntax>
<syntax>make_fov -old  [<ar>options</ar>] <ar>fitname</ar> [<ar>inxname</ar>]</syntax>
<syntax>make_fov [<ar>options</ar>] <ar>fitacfnames...</ar></syntax>
<syntax>make_fov  -old [<ar>options</ar>] <ar>fitnames...</ar></syntax>
<syntax>make_fov -vb -ascii -ns -sd <ar>yyyymmdd</ar> -st <ar>hr:mn</ar> -ed <ar>yyyymmdd</ar> -et <ar>hr:mn</ar> -ex <ar>hr:mn</ar> -tl <ar>tlen</ar> -cn <ar>a/b</ar> -tfmin <ar>frequency</ar> -tfmax <ar>frequency</ar> -tdiff-update -tdiff <ar>calibration</ar> -dhmin <ar>D region height min</ar> -dhmax <ar>D region height max</ar> -ehmax <ar>E region height max</ar> -fhmax <ar>F region height max</ar> <ar>filenames</ar></syntax>
<syntax></syntax>

<option><on>--help</on><od>print the help message and exit.</od>
</option>
<option><on>--version</on><od>print the RST version number and exit.</od>
</option>
<option><on>-vb</on><od>verbose. Log information to the console.</od>
</option>
<option><on>-sd <ar>yyyymmdd</ar></on><od>start from the date <ar>yyyymmdd</ar>.</od>
</option>
<option><on>-st <ar>hr:mn</ar></on><od>start from the time <ar>hr:mn</ar>.</od>
</option>
<option><on>-ed <ar>yyyymmdd</ar></on><od>stop at the date <ar>yyyymmdd</ar>.</od>
</option>
<option><on>-et <ar>hr:mn</ar></on><od>stop at the time <ar>hr:mn</ar>.</od>
</option>
<option><on>-ex <ar>hr:mn</ar></on><od>use the interval whose extent is <ar>hr:mn</ar>.</od>
</option>
<option><on>-tl <ar>tlen</ar></on><od>ignore the scan flag and instead use a fixed length scan of <ar>tlen</ar> seconds.</od>
</option>
<option><on>-cn <ar>a/b</ar></on><od>process data from channel <ar>channel</ar> for stereo mode data.</od>
</option>
<option><on>-cn_fix <ar>a/b/c/d</ar></on><od>manually set <ar>channel</ar> information written to output file.</od>
</option>
<option><on>-ns</on><od>exclude data with scan flags less than zero.</od>
</option>
<option><on>-ascii</on><od>output plain text instead of binary data.</od>
</option>
<option><on>-tfmin <ar>frequency minimum</ar></on><od>manually specify the lowest allowed transmission frequency in kHz.</od>
</option>
<option><on>-tfmax <ar>frequency maximum</ar></on><od>manually specify the upper limit for transmission frequencies in kHz.</od>
</option>
<option><on>-bandwidth <ar>frequency band-width</ar></on><od>manually specify the width of transmission frequency bands in kHz (default 300 kHz, ignored if tfmax and tfmin supplied).</od>
</option>
<option><on>-gs-strict</on><od>Remove indeterminate backscatter (groundscatter that may be slow-moving ionospheric scatter).</od>
</option>
<option><on>-minpnts <ar>Minimum number of points for evaluations</ar></on><od>User specified minimum number of backscatter points needed for range and azimuth evaluations (default of 3).</od>
</option>
<option><on>-update-tdiff</on><od>Replace the TDIFF hardware value with a user specified value in elevation angle calculations.</od>
</option>
<option><on>-tdiff <ar>calibration</ar></on><od>User specified value for TDIFF in microseconds.</od>
</option>
<option><on>-dhmin <ar>D region height min</ar></on><od>User specified lower limit for the D-region in km (default of 75 km).</od>
</option>
<option><on>-dhmax <ar>D region height max</ar></on><od>User specified upper limit for the D-region in km (default of 100 km).</od>
</option>
<option><on>-ehmax <ar>E region height max</ar></on><od>User specified upper limit for the 1/2E virtual heights in km (default of 120 km).</od>
</option>
<option><on>-fhmax <ar>F region height max</ar></on><od>User specified upper limit for 1/2F virtual heights in km (default of 750 km).</od>
</option>
<option><on>-dnrg <ar>D region range gate box size</ar></on><od>User specified upper number of range gates to use in range evaluations in the D-region (default of 2).</od>
</option>
<option><on>-enrg <ar>E region range gate box size</ar></on><od>User specified upper number of range gates to use in range evaluations in the E-region (default of 5).</od>
</option>
<option><on>-fnrg <ar>F region range gate box size</ar></on><od>User specified upper number of range gates to use in range evaluations in the F-region (default of 10).</od>
</option>
<option><on>-farnrg <ar>High-range gate F region range gate box size</ar></on><od>User specified upper number of range gates to use in range evaluations in the F-region at range gates far from the radar (default of 20).</od>
</option>
<option><on>-drgmax <ar>D region maximum range gate</ar></on><od>User specified maximum range gate from which D-region scatter may return (default of 5).</od>
</option>
<option><on>-ergmax <ar>E region maximum range gate</ar></on><od>User specified maximum range gate from which E-region scatter may return (default of 25).</od>
</option>
<option><on>-frgmax <ar>F region maximum range gate</ar></on><od>User specified range gate that separates near and far F-region backscatter (default of 40).</od>
</option>
<option><on>-dhbox <ar>D region box size</ar></on><od>User specified virtual height box size for the D-region in km (default of 40 km).</od>
</option>
<option><on>-ehbox <ar>E region box size</ar></on><od>User specified virtual height box size for the E-region in km (default of 35 km).</od>
</option>
<option><on>-fhbox <ar>Near range gate F region box size</ar></on><od>User specified virtual height box size for the near-range gate F-region in km (default of 50 km).</od>
</option>
<option><on>-farhbox <ar>Far range gate F region box size</ar></on><od>User specified virtual height box size for the far-range gate F-region in km (default of 150 km).</od>
</option>
<option><on>-maxhop <ar>Maximum number of hops</ar></on><od>User specified hop maximum for propagation path determination (default of 3.0).</od>
</option>
<option><on>-minfrac <ar>Minimum fraction of points for UT evaluation</ar></on><od>User specified minimum fraction of points needed to perform the UT evaluation (default of 0.1).</od>
</option>
<option><on>-utbox <ar>Size of UT evaluation box</ar></on><od>User specified width of the UT evaluation box in seconds (default of 1200 s (20 min)).</od>
</option>
<option><on><ar>fitacfname</ar></on><od>filename of the <code>fitacf</code> format file.</od>
</option>
<option><on><ar>inxname</ar></on><od>filename of the index file.</od>
</option>
<option><on>-old</on><od>the input file is in the <code>fit</code> format, and the output should be in <code>grd</code> format.</od>
</option>
<option><on>-c</on><od>concatonate multiple input files.</od>
</option>
<option><on><ar>fitname</ar></on><od>filename of the <code>fit</code> format file.</od>
</option>
<option><on>-c</on><od>concatenate multiple input files (from the same radar site). WARNING: This option will be deprecated in the next RST release. Multiple input files from one radar are now detected and concatenated automatically.</od>
</option>
<option><on><ar>fitnames</ar></on><od>filenames of the <code>fit</code> format files.</od>
</option>
<option><on><ar>fitacfnames</ar></on><od>filenames of the <code>fitacf</code> format files.</od>
</option>
<synopsis><p>Creates an enhanced <code>fitacf</code> format file for a single radar site with the correct backscatter return direction from either a <code>fit</code> or <code>fitacf</code> format file.</p></synopsis>
<description><p>Creates an <code>fitacf</code> format file with additional flags that denote the correct backscatter return direction and updated elevation angles for a single radar site from either a <code>fit</code> or <code>fitacf</code> format file.</p>
<p>The return direction is determined by examining the variations in elevation angle across the field-of-view (FoV), with ground and ionospheric backscatter examined seperately.</p>
<p>The algorithm (Burrell et al. 2015) optionally allows the user to specify the frequency bands, update the interferometer calibration (TDIFF), and specify whether badly identified groundscatter should be treated as ionospheric scatter for the purposes of calculating the origin FoV.  Most radars use either a 300 kHz or 500 kHz bandwidth, so if no frequency band is specified they will be determined using a 300 kHz band width.</p> 
<p>After determining the return direction, text lines are written to standard output.</p>
<p>The program accepts multiple fit files as input. If more than one input file is provided, the program will concatenate them together for processing. Note that only fit files from a single radar site may be concatenated.</p>
</description>

<example>
<command>make_fov -vb -old 19991120.kap.fit &gt; 19991120.kap.fband</command>
<description>Generate a frequency band file from the old fit file "<code>19991120.kap.fit</code>" and store it in the file "<code>19991120.kap.fband</code>". Report the status on standard error.</description>
</example>

<example>
<command>make_fov -bandwidth 600 20000510.*.kod.fit &gt; 20000510.kod.fband</command>
<description>Concatenate all the fit files in the current directory to create a frequency band file with 600 kHz frequency bands. Store the output in the file "<code>20000510.kod.fband</code>".</description>
</example>

<example>
<command>make_fov -tl 120 -old 19981012.gbr.fit &gt; 19981012.gbr.fband</command>
<description>Generate a frequency band file from the fit file "<code>19981012.gbr.fit</code>" using a fixed scan length of 120 seconds. This affects how the data is read in. Store an extended format grid file in "<code>19981012.gbr.fband</code>"
</description>
</example>

</binary>
